## 코드가 존재하리라

* `Github Copilot` 과 같이 코드를 자동으로 생성해주는 시스템들이 출현
* 특정 응용 분야에 적합한 프로그래밍 언어(domain-specific language) 수가 점차 증가

이와 같은 현상 때문에, `코드는 더 이상 문제가 아니며, 모델이나 요구사항에 집중해야 한다` `코드의 종말이 코앞에 닥쳤다` 라고 주장하는 사람들이 생겨나고 있다. 그렇다면 정말 앞으로는 코드가 필요 없을까? 프로그래머는 더이상 필요없는 직업이 될까?

코드가 사라지는 것은 절대로 불가능한 일이다. 코드는 요구사항을 상세히 표현하는 도구로서, 기계가 요구사항을 정확하게 수행할 수 있도록 코드는 정확하고 엄밀하게 작성 되어야만 한다. 코드가 없다면 요구사항을 상세하게 표현하는 것은 불가능하며, 추상화도 불가능해진다. 결국 추상적인 우리 세상의 요구사항을 기계가 이해할 수 있도록 표현할 수 있는 것은 **`코드`** 뿐이다.



## 나쁜 코드

* 킬러 앱을 구현한 회사는 출시에 바빠 코드를 마구 작성
* 기능을 추가할 수록 코드는 엉망진창
* 결국 감당이 불가능한 수준에 이르렀으며, 회사가 망함

나쁜 코드는 잘나가던 회사도 망하게 만든다. 마감일이 급해서 서두르느라 코드를 제대로 작성하지 않은 경우, 초기 개발 속도는 빠르겠지만 시간이 지나 발견한 버그 수정과 새로운 요구사항을 반영시키는데에는 많은 시간비용이 든다.



_우리 모두는 자신이 짠 쓰레기 코드를 쳐다보며 나중에 손보겠다고 생각한 경험이 있다. 우리 모두는 대충 짠 프로그램이 돌아간다는 사실에 안도감을 느끼며 그래도 안 돌아가는 프로그램보다 돌아가는 쓰레기가 좋다고 스스로를 위로한 경험이 있다_

_"나중은 결코 오지 않는다" - 르블랑의 법칙(LeBlanc's law)_



## 나쁜 코드로 치르는 대가

* 나쁜 코드가 쌓일 수록 팀 생산성은 저하
  * 생산성은 지속적으로 떨어지다가 결국 0에 수렴

* 얽히고 설킨 코드를 `해독` 해서, 다시 얽히고 설킨 코드를 덧대어 추가



#### 원대한 재설계의 꿈

* 생산성 없는 혐오스러운 코드로는 더이상 일이 불가능
* 결국 관리층은 `재설계` 를 허락
* 기존 시스템과 재설계로 시작된 새로운 시스템이 공존
  * 새로운 시스템은 기존 시스템에 가해지는 변경을 모두 따라야 한다.
  * 새 시스템이 기존 시스템을 따라잡을 즈음이면 초창기 새 시스템 프로젝트 인원은 모두 떠난다.
  * 왜? 현재 시스템이 너무 엉망이라서.

한 번 작성된 나쁜 코드에서 파생된 나쁜 코드로 이루어진 시스템은 재설계를 통해서도 유지보수하기 힘들다. 따라서 지속적으로 깨끗한 코드를 만드려는 노력을 해야만 한다.



#### 태도

코드가 나쁜 코드로 전락한 이유를 자신에게서 찾지 않고 주변에 온갖 핑계를 댄다.

* 멍청한 관리자
* 쓸모없는 마케팅 부서
* ...

결국 잘못은 전적으로 프로그래머에게 있으며, 우리가 전문가답지 못했기 때문에 나쁜 코드가 양산된 것이다. 관리자가 그들의 일정과 요구사항을 강력하게 밀어붙이는 이유는 그것이 그들이 책임이기 때문이다. `좋은 코드를 사수하는 일은 바로 우리 프로그래머들의 책임이다.`



#### 원초적 난제

* 기한을 맞추려면 나쁜 코드를 양산할 수 밖에 없음
  * 진짜 전문가는 이 부분이 틀렸다는 것을 잘 안다.
* 장기적으로 봤을때, 나쁜 코드를 양산하면 기한을 맞추지 못함
  * 오히려 엉망진창인 상태로 인해 개발 속도가 곧바로 늦어지고, 기한을 맞추지 못한다.

**`빨리가는 유일한 방법은, 언제나 코드를 최대한 깨끗하게 유지하는 습관이다.`**



#### 깨끗한 코드라는 예술?

_"깨긋한 코드를 어떻게 작성할까?"_

* 깨끗한 코드를 작성하려면 `청결` 이라는 힙겹게 습득한 감각을 활용해 자잘한 기법들을 적용하는 절제와 규율이 필요

* 키워드는 `코드 감각`

  * `코드 감각` 이 있어야 좋은 코드와 나쁜 코드를 구분 가능

  * `코드 감각` 이 있는 프로그래머는 나쁜 모듈을 좋은 모듈로 개선할 방안을 떠올리며,

    최고의 방안을 선택한 후 코드 개선 경로를 계획



#### 깨끗한 코드란?

깨긋한 코드의 정의는 프로그래머마다 다를 것이다. 아주 유명하고 노련한 프로그래머들의 `깨끗한 코드` 에 대한 의견을 살펴보자.



## 우리는 저자다

* 저자에게는 독자가 있으며, 독자와 잘 소통할 책임이 존재
* 코드를 작성할 때는 내가 저자라는 사실을, 내 노력을 보고 판단을 내릴 독자가 있다는 사실을 잊지 말자
* 실제로 코드를 읽는 과정에 얼만큼의 노력이 필요한가?
  * 코드를 읽는 시간 대 코드를 짜는 시간 비율이 10대 1을 훌쩍 넘는다.
  * 따라서, 읽기 쉬운 코드가 매우 중요!

주변 코드를 읽지 않으면 새 코드를 짜지 못한다. 주변 코드가 읽기 쉬우면 새 코드를 짜기도 쉽다. 주변 코드를 읽기가 어려우면 새 코드를 짜기도 어렵다. 그러므로 급하다면, 서둘러 끝내려면, 쉽게 짜려면, 읽기 쉽게 만들면 된다.



## 보이스카우트 규칙

_"캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라."_

잘 짠 코드가 전부가 아니며, 시간이 지나도 언제나 깨끗하게 유지하기 위해 노력해야한다.

* 변수 이름 하나 개선
* 조금 긴 함수 하나를 분할
* 약간의 중복 제거
* 복잡한 if문 하나를 정리

거창하게 생각할 필요 없다. 지속적으로 작은 것이라도 꾸준히 개선해나가면 된다.



## 프리퀄과 원칙

* 이 책을 읽고 `Agile Software Development: Prin-ciples, Patterns, and Practices` 책을 읽어보길 권장
  * PPP 책은 객체 지향 설계의 원칙을 설명
  * 전문 개발자들이 사용하는 실무 기법 소개
* 이 책은 다양한 설계 원칙을 거론
  * SRP (Single Responsibility)
  * OCP (Open Closed Principle)
  * DIP (Dependency Inversion Priciple)



## 결론

이 책이 정답은 아니다. 단지 좋은 코드를 작성하는 방법을 끊임없이 고민한 전문가들의 노하우와 생각하는 방식이 담겨있을 뿐이다. 좋은 코드와 나쁜 코드 모두 소개하고 있으며, 나쁜 코드를 좋은 코드로 바꾸는 방법도 소개한다. 이 책을 기술한 프로그래머들의 생각을 이해하고, 그들의 사고 방식을 따라해보고, 책에 실린 코드들을 접해보며 연습해보는 것 만이 `코드 감각` 을 키우고 `깨끗한 코드` 작성을 체득할 수 있는 방법이다.