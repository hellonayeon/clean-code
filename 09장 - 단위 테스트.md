## ë“¤ì–´ê°€ë©°

í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ë ¤ê³  ê¸‰í•˜ê²Œ ì„œë‘ë¥´ëŠ” ì™€ì¤‘ì— ë§ì€ í”„ë¡œê·¸ë˜ë¨¸ë“¤ì´ ì œëŒ€ë¡œ ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ì¢€ ë” ë¯¸ë¬˜í•œ ì‚¬ì‹¤ì„ ë†“ì³ë²„ë ¸ë‹¤.

* ì‘ì„±í•œ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•´ ë“œë¼ì´ë²„ í”„ë¡œê·¸ë¨ì„ ê¸‰ì¡°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê¼¬ì¹˜ê¼¬ì¹˜ ë”°ì§€ë©° ì½”ë“œê°€ ì œëŒ€ë¡œ ë„ëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸°
  * í…ŒìŠ¤íŠ¸ ì½”ë“œ ìˆ˜í–‰ ì‹œ ì‹¤ì œ ì‹¤í–‰ í™˜ê²½ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìì›ì„ ì‚¬ìš©í•˜ì§€ ì•Šê²Œë” ë§Œë“¤ê¸°
  * ë‹¨ì§€, ì‘ì„±í•œ í•¨ìˆ˜ì˜ ë¡œì§ì´ ì˜ë„ëŒ€ë¡œ ì‹¤í–‰ ë˜ëŠ”ì§€ íŒë‹¨í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸°



## TDD ë²•ì¹™ ì„¸ ê°€ì§€

**`TDD`**  ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¶€í„° ì‘ì„±í•˜ëŠ” ê°œë°œ ê¸°ë²•

* `TDD` ë²•ì¹™ ì„¸ ê°€ì§€
  * `ì²«ì§¸ ë²•ì¹™` : ì‹¤íŒ¨í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œê¹Œì§€ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
  * `ë‘˜ì§¸ ë²•ì¹™` : ì»´íŒŒì¼ì€ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ëŠ” ì •ë„ë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.
  * `ì…‹ì§¸ ë²•ì¹™` : í˜„ì¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ì •ë„ë¡œë§Œ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

ìœ„ ì„¸ ê°€ì§€ ê·œì¹™ì„ ë”°ë¥´ë©´ ê°œë°œê³¼ í…ŒìŠ¤íŠ¸ê°€ ëŒ€ëµ 30ì´ˆ ì£¼ê¸°ë¡œ ë¬¶ì¸ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ì‹¤ì œ ì½”ë“œê°€ í•¨ê»˜ ë‚˜ì˜¬ë¿ë”ëŸ¬ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë¶ˆê³¼ ëª‡ ì´ˆ ì „ì— ë‚˜ì˜¨ë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ ë§¤ ë‹¬ ìˆ˜ë°± ê°œ, ë§¤ ë…„ ìˆ˜ ì²œê°œì— ë‹¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë‚˜ì˜¤ê³ , ì‚¬ì‹¤ìƒ ì „ë¶€ í…ŒìŠ¤íŠ¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤. í•˜ì§€ë§Œ ì‹¤ì œ ì½”ë“œì™€ ë§ë¨¹ì„ ì •ë„ë¡œ ë°©ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¬ê°í•œ ê´€ë¦¬ ë¬¸ì œë¥¼ ìœ ë°œí•˜ê¸°ë„ í•œë‹¤.



## ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìœ ì§€í•˜ê¸°

**`í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ì¤‘ìš”í•˜ë‹¤.`**

ì§€ì €ë¶„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë‚´ë†“ëŠ” ê²ƒì€ í…ŒìŠ¤íŠ¸ë¥¼ ì•ˆ í•˜ëŠ” ê²ƒ ë³´ë‹¤ ë” ëª»í•˜ë‹¤. `ì§€ì €ë¶„í•´ë„ ë¹¨ë¦¬` ë¼ëŠ” ë§ˆìŒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹ ê²½ì¨ì„œ ì‘ì„±í•˜ì§€ ì•Šì•˜ë‹¤ë©´, í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‹¤ì œ ì½”ë“œì˜ ë³€í™”ë¥¼ ë”°ë¼ê°€ê¸° í˜ë“¤ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì§€ì €ë¶„í•  ìˆ˜ë¡ ë³€ê²½í•˜ê¸° ì–´ë ¤ì›Œ ì§„ë‹¤.



#### í…ŒìŠ¤íŠ¸ëŠ” ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì œê³µí•œë‹¤

ì½”ë“œì— ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì œê³µí•˜ëŠ” ë²„íŒ€ëª©ì´ ë°”ë¡œ `ë‹¨ìœ„ í…ŒìŠ¤íŠ¸` ë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìˆìœ¼ë©´ ë³€ê²½ì´ ë‘ë µì§€ ì•Šìœ¼ë‹ˆê¹Œ!

í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ë‹¤ë©´ ëª¨ë“  ë³€ê²½ì´ ì ì •ì ì¸ `ë²„ê·¸` ì´ë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ìœ¼ë©´ ê°œë°œìëŠ” ë³€ê²½ì„ ì£¼ì €í•œë‹¤. `ë²„ê·¸` ê°€ ìˆ¨ì–´ë“¤ì„ê¹Œ ë‘ë µê¸° ë•Œë¬¸ì´ë‹¤. `í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€` ê°€ ë†’ì„ ìˆ˜ë¡ `ë²„ê·¸` ì— ëŒ€í•œ ê³µí¬ëŠ” ì‚¬ë¼ì§„ë‹¤.

> í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì§€ì €ë¶„í•˜ë©´ ì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” ëŠ¥ë ¥ì´ ë–¨ì–´ì§€ë©° ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í•˜ëŠ” ëŠ¥ë ¥ë„ ë–¨ì–´ì§„ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì§€ì €ë¶„í• ìˆ˜ë¡ ì‹¤ì œ ì½”ë“œë„ ì§€ì €ë¶„í•´ì§„ë‹¤. ê²°êµ­ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìƒì–´ë²„ë¦¬ê³  ì‹¤ì œ ì½”ë“œë„ ë§ê°€ì§„ë‹¤.



## ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ

ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ë ¤ë©´ ì„¸ ê°€ì§€ê°€ í•„ìš”í•˜ë‹¤. `ê°€ë…ì„±` `ê°€ë…ì„±` `ê°€ë…ì„±`

ì¤‘ë³µë˜ëŠ” ì½”ë“œì™€ ìì§ˆêµ¬ë ˆí•œ ì‚¬í•­ì´ ë„ˆë¬´ ë§ì•„ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ í‘œí˜„ë ¥ì´ ë–¨ì–´ì§€ëŠ” ì½”ë“œì´ë‹¤.

```java
/* Bad */

public void testGetPageHieratchyAsXml() throws Exception {
  crawler.addPage(root, PathParser.parse("PageOne"));
  crawler.addPage(root, PathParser.parse("PageOne.ChildOne"));
  crawler.addPage(root, PathParser.parse("PageTwo"));

  request.setResource("root");
  request.addInput("type", "pages");
  Responder responder = new SerializedPageResponder();
  SimpleResponse response =
    (SimpleResponse) responder.makeResponse(new FitNesseContext(root), request);
  String xml = response.getContent();

  assertEquals("text/xml", response.getContentType());
  assertSubString("<name>PageOne</name>", xml);
  assertSubString("<name>PageTwo</name>", xml);
  assertSubString("<name>ChildOne</name>", xml);
}

public void testGetPageHieratchyAsXmlDoesntContainSymbolicLinks() throws Exception {
  WikiPage pageOne = crawler.addPage(root, PathParser.parse("PageOne"));
  crawler.addPage(root, PathParser.parse("PageOne.ChildOne"));
  crawler.addPage(root, PathParser.parse("PageTwo"));

  PageData data = pageOne.getData();
  WikiPageProperties properties = data.getProperties();
  WikiPageProperty symLinks = properties.set(SymbolicPage.PROPERTY_NAME);
  symLinks.set("SymPage", "PageTwo");
  pageOne.commit(data);

  request.setResource("root");
  request.addInput("type", "pages");
  Responder responder = new SerializedPageResponder();
  SimpleResponse response =
    (SimpleResponse) responder.makeResponse(new FitNesseContext(root), request);
  String xml = response.getContent();

  assertEquals("text/xml", response.getContentType());
  assertSubString("<name>PageOne</name>", xml);
  assertSubString("<name>PageTwo</name>", xml);
  assertSubString("<name>ChildOne</name>", xml);
  assertNotSubString("SymPage", xml);
}

public void testGetDataAsHtml() throws Exception {
  crawler.addPage(root, PathParser.parse("TestPageOne"), "test page");

  request.setResource("TestPageOne"); request.addInput("type", "data");
  Responder responder = new SerializedPageResponder();
  SimpleResponse response =
    (SimpleResponse) responder.makeResponse(new FitNesseContext(root), request);
  String xml = response.getContent();

  assertEquals("text/xml", response.getContentType());
  assertSubString("test page", xml);
  assertSubString("<Test", xml);
}
```

* `addPage` ì™€ `assertSubString` ì„ ë¶€ë¥´ëŠë¼ ì¤‘ë³µë˜ëŠ” ì½”ë“œ
* `PathParser` ëŠ” ë¬¸ìì—´ì„ `pathPath` ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€í™˜
  * `pagePath` ëŠ” ì›¹ ë¡œë´‡(`crawler`) ì´ ì‚¬ìš©í•˜ëŠ” ê°ì²´
  * ì´ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ë¬´ê´€í•˜ë©° í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì˜ë„ë¥¼ í‡´ìƒ‰
* `responser` ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œì™€ `response` ë¥¼ ìˆ˜ì§‘í•´ ë³€í™˜í•˜ëŠ” ì½”ë“œ ì—­ì‹œ ì¡ìŒ
* `resource` ì™€ ì¸ìˆ˜ì—ì„œ  ìš”ì²­ URLì„ ë§Œë“œëŠ” ì–´ì„¤í”ˆ ì½”ë“œ



```java
/* Good */

public void testGetPageHierarchyAsXml() throws Exception {
  makePages("PageOne", "PageOne.ChildOne", "PageTwo");

  submitRequest("root", "type:pages");

  assertResponseIsXML();
  assertResponseContains(
    "<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>");
}

public void testSymbolicLinksAreNotInXmlPageHierarchy() throws Exception {
  WikiPage page = makePage("PageOne");
  makePages("PageOne.ChildOne", "PageTwo");

  addLinkTo(page, "PageTwo", "SymPage");

  submitRequest("root", "type:pages");

  assertResponseIsXML();
  assertResponseContains(
    "<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>");
  assertResponseDoesNotContain("SymPage");
}

public void testGetDataAsXml() throws Exception {
  makePageWithContent("TestPageOne", "test page");

  submitRequest("TestPageOne", "type:data");

  assertResponseIsXML();
  assertResponseContains("test page", "<Test");
}
```

`BUILD-OPERATE-CHECK` íŒ¨í„´ì´ ìœ„ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ êµ¬ì¡°ì— ì í•©í•˜ë‹¤. ê° í…ŒìŠ¤íŠ¸ëŠ” `í…ŒìŠ¤íŠ¸ ìë£Œ ìƒì„± (BUILD)` `í…ŒìŠ¤íŠ¸ ìë£Œ ì¡°ì‘ (OPERATE)`  `ê²°ê³¼ í™•ì¸ (CHECK)` ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ ì§„ë‹¤.



#### ë„ë©”ì¸ì— íŠ¹í™”ëœ í…ŒìŠ¤íŠ¸ ì–¸ì–´

ìœ„ì˜ ì˜ˆì‹œ ì½”ë“œëŠ” ë„ë©”ì¸ì— íŠ¹í™”ëœ ì–¸ì–´(DSL)ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ êµ¬í˜„í•œ ê¸°ë²•ì´ë‹¤. í”íˆ ì“°ëŠ” ì‹œìŠ¤í…œ ì¡°ì‘ APIë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  API ìœ„ì—ë‹¤ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ë¥¼ êµ¬í˜„í•œ í›„ ê·¸ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸°ë„ ì½ê¸°ë„ ì‰¬ì›Œì§„ë‹¤.

ì´ë ‡ê²Œ êµ¬í˜„í•œ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” íŠ¹ìˆ˜ APIê°€ ëœë‹¤. ì¦‰, í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¹ì‚¬ìì™€ ë‚˜ì¤‘ì— í…ŒìŠ¤íŠ¸ë¥¼ ì½ì–´ë³¼ ë…ìë¥¼ ë„ì™€ì£¼ëŠ” í…ŒìŠ¤íŠ¸ `ì–¸ì–´` ì´ë‹¤.

ì´ëŸ° í…ŒìŠ¤íŠ¸ APIëŠ” ì²˜ìŒë¶€í„° ì„¤ê³„ëœ APIê°€ ì•„ë‹ˆë‹¤. ì¡ë‹¤í•˜ê³  ì„¸ì„¸í•œ ì‚¬í•­ìœ¼ë¡œ ë²”ë²…ëœ ì½”ë“œë¥¼ ê³„ì† ë¦¬íŒ©í„°ë§ í•˜ë‹¤ê°€ ì§„í™”ëœ APIë‹¤.



#### ì´ì¤‘ í‘œì¤€

í…ŒìŠ¤íŠ¸ API ì½”ë“œì— ì ìš©í•˜ëŠ” í‘œì¤€ì€ ì‹¤ì œ ì½”ë“œì— ì ìš©í•˜ëŠ” í‘œì¤€ê³¼ í™•ì‹¤íˆ **`ë‹¤ë¥´ë‹¤.`** ë‹¨ìˆœí•˜ê³ , ê°„ê²°í•˜ê³ , í‘œí˜„ë ¥ì´ í’ë¶€í•´ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œ ì½”ë“œë§Œí¼ `íš¨ìœ¨ì ì¼ í•„ìš”ëŠ” ì—†ë‹¤.` ì‹¤ì œ í™˜ê²½ì´ ì•„ë‹ˆë¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ëŒì•„ê°€ëŠ” ì½”ë“œì´ê¸° ë•Œë¬¸ì´ë‹¤.

`ì˜¨ë„ê°€ ê¸‰ê²©í•˜ê²Œ ë–¨ì–´ì§€ë©´ ê²½ë³´, ì˜¨í’ê¸°, ì†¡í’ê¸°ê°€ ëª¨ë‘ ê°€ë™ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ`

```java
/* Bad */

@Test
public void turnOnLoTempAlarmAtThreashold() throws Exception {
  hw.setTemp(WAY_TOO_COLD); 
  controller.tic(); 
  assertTrue(hw.heaterState());   
  assertTrue(hw.blowerState()); 
  assertFalse(hw.coolerState()); 
  assertFalse(hw.hiTempAlarm());       
  assertTrue(hw.loTempAlarm());
}
```

 ```java
 /* Good */
 
 @Test
 public void turnOnCoolerAndBlowerIfTooHot() throws Exception {
   tooHot();
   // heater, blower, cooler, hi-temp-alarm, lo-temp-alarm
   assertEquals("hBChl", hw.getState()); 
 }
   
 @Test
 public void turnOnHeaterAndBlowerIfTooCold() throws Exception {
   tooCold();
   assertEquals("HBchl", hw.getState()); 
 }
 
 @Test
 public void turnOnHiTempAlarmAtThreshold() throws Exception {
   wayTooHot();
   assertEquals("hBCHl", hw.getState()); 
 }
 
 @Test
 public void turnOnLoTempAlarmAtThreshold() throws Exception {
   wayTooCold();
   assertEquals("HBchL", hw.getState()); 
 }
 ```

ì˜ë„ë¥¼ ì•Œ ìˆ˜ ì—†ì—ˆë˜ `tic` í•¨ìˆ˜ëŠ” `wayTooX` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ìˆ¨ê²¼ë‹¤. `assertEquals` í•¨ìˆ˜ ì•ˆì˜ ë¬¸ìì—´ì„ ìƒˆë¡œ ì •ì˜í•¨ìœ¼ë¡œì¨ `assertTrue | assertFalse` ì‚¬ìš©ìœ¼ë¡œ ê²ªì—ˆë˜ ê°€ë…ì„± ì €í•˜ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.

```java
/* Bad */

public String getState() {
  String state = "";
  state += heater ? "H" : "h"; 
  state += blower ? "B" : "b"; 
  state += cooler ? "C" : "c"; 
  state += hiTempAlarm ? "H" : "h"; 
  state += loTempAlarm ? "L" : "l"; 
  return state;
}
```

ì½”ë“œì˜ íš¨ìœ¨ì„ ë†’ì´ë ¤ë©´ `StringBuffer` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.  í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ìì›ì´ ì œí•œì ì¼ ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤. 

ì´ê²ƒì´ `ì´ì¤‘ í‘œë³¸` ì˜ ë³¸ì§ˆì´ë‹¤. ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì ˆëŒ€ë¡œ ì•ˆ ë˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ì „í˜€ ë¬¸ì œì—†ëŠ” ë°©ì‹ì´ ìˆë‹¤. ëŒ€ê°œ ë©”ëª¨ë¦¬ë‚˜ CPU íš¨ìœ¨ê³¼ ê´€ë ¨ ìˆëŠ” ê²½ìš°ë‹¤. ì½”ë“œì˜ ê¹¨ë—í•¨ê³¼ëŠ” ì² ì €íˆ ë¬´ê´€í•˜ë‹¤.



## í…ŒìŠ¤íŠ¸ ë‹¹ assert í•˜ë‚˜

`assert` ë¬¸ì´ ë‹¨ í•˜ë‚˜ì¸ í•¨ìˆ˜ëŠ” ê²°ë¡ ì´ í•˜ë‚˜ë¼ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê³  ë¹ ë¥´ë‹¤.

`assert` ë¬¸ì„ í•˜ë‚˜ë¡œ ë³‘í•©í•˜ëŠ” ë°©ì‹ì´ ë¶ˆí•©ë¦¬í•´ ë³´ì´ëŠ” ê²½ìš°, í…ŒìŠ¤íŠ¸ë¥¼ ë‘ ê°œë¡œ ë¶„ë¦¬í•˜ë©´ ëœë‹¤.

`(1) ì¶œë ¥ì´ XMLì´ë‹¤.   (2)  íŠ¹ì • ë¬¸ìì—´ì„ í¬í•¨í•œë‹¤.`

```java
public void testGetPageHierarchyAsXml() throws Exception { 
  givenPages("PageOne", "PageOne.ChildOne", "PageTwo");
  
  whenRequestIsIssued("root", "type:pages");
  
  thenResponseShouldBeXML(); 
}

public void testGetPageHierarchyHasRightTags() throws Exception { 
  givenPages("PageOne", "PageOne.ChildOne", "PageTwo");
  
  whenRequestIsIssued("root", "type:pages");
  
  thenResponseShouldContain(
    "<name>PageOne</name>", "<name>PageTwo</name>", "<name>ChildOne</name>"
  ); 
}
```

í•˜ì§€ë§Œ ì´ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ë©´ ì¤‘ë³µë˜ëŠ” ì½”ë“œê°€ ë§ì•„ì§„ë‹¤.

`TEMPLATE METHOD` íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. `given/when` ë¶€ë¶„ì„ ë¶€ëª¨ í´ë˜ìŠ¤ì— ë‘ê³  `then` ë¶€ë¶„ì„ ìì‹ í´ë˜ìŠ¤ì— ë‘ë©´ ëœë‹¤. ì•„ë‹ˆë©´ ì™„ì „íˆ ë…ìì ì¸ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ `@Before` í•¨ìˆ˜ì— `given/when` ë¶€ë¶„ì„ ë„£ê³  `@Test` í•¨ìˆ˜ì— `then` ë¶€ë¶„ì„ ë„£ì–´ë„ ëœë‹¤.



#### í…ŒìŠ¤íŠ¸ ë‹¹ ê°œë… í•˜ë‚˜

**`í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë§ˆë‹¤ í•œ ê°œë…ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼`**

```java
/* Bad */

public void testAddMonths() {
  SerialDate d1 = SerialDate.createInstance(31, 5, 2004);

  SerialDate d2 = SerialDate.addMonths(1, d1); 
  assertEquals(30, d2.getDayOfMonth()); 
  assertEquals(6, d2.getMonth()); 
  assertEquals(2004, d2.getYYYY());
  
  SerialDate d3 = SerialDate.addMonths(2, d1); 
  assertEquals(31, d3.getDayOfMonth()); 
  assertEquals(7, d3.getMonth()); 
  assertEquals(2004, d3.getYYYY());
  
  SerialDate d4 = SerialDate.addMonths(1, SerialDate.addMonths(1, d1)); 
  assertEquals(30, d4.getDayOfMonth());
  assertEquals(7, d4.getMonth());
  assertEquals(2004, d4.getYYYY());
}
```

```
- (5ì›”ì²˜ëŸ¼) 31ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§€ëŠ” ê²½ìš°

   - (6ì›”ì²˜ëŸ¼) 30ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ì§€ 31ì¼ì´ ë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤.
  
   - ë‘ ë‹¬ì„ ë”í•˜ë©´ ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë‹¬ì´ 31ì¼ë¡œ ëë‚˜ë©´ ë‚ ì§œëŠ” 31ì¼ì´ ë˜ì–´ì•¼ í•œë‹¤.
  
- (6ì›”ì²˜ëŸ¼) 30ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§€ëŠ” ê²½ìš°

   - 31ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ì§€ 31ì¼ì´ ë˜ë©´ ì•ˆ ëœë‹¤.
```

`assert` ë¬¸ì´ ì—¬ëŸ¿ì´ë¼ëŠ” ì‚¬ì‹¤ì´ ë¬¸ì œê°€ ì•„ë‹ˆë¼, í•œ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì—ì„œ `ì—¬ëŸ¬ ê°œë…` ì„ í…ŒìŠ¤íŠ¸ í•œë‹¤ëŠ” ì‚¬ì‹¤ì´ ë¬¸ì œë‹¤.

ê·¸ëŸ¬ë¯€ë¡œ ê°€ì¥ ì¢‹ì€ ê·œì¹™ì€ **`ê°œë… ë‹¹ assert ë¬¸ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì—¬ë¼`** ì™€ **`í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ í•˜ë‚˜ëŠ” ê°œë… í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼`** ë‹¤.



## F.I.R.S.T

**`ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ 5 ê°€ì§€ ê·œì¹™`**

* **`Fast`  ë¹ ë¥´ê²Œ**

  í…ŒìŠ¤íŠ¸ëŠ” ë¹¨ë¦¬ ëŒì•„ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ëŠë¦¬ë©´ ìì£¼ ëŒë¦´ ì—„ë‘ë¥¼ ëª»ë‚¸ë‹¤. ìì£¼ ëŒë¦¬ì§€ ì•Šìœ¼ë©´ ì´ˆë°˜ì— ë¬¸ì œë¥¼ ì°¾ì•„ë‚´ ê³ ì¹˜ì§€ ëª»í•œë‹¤. ì½”ë“œë¥¼ ë§ˆìŒê» ì •ë¦¬í•˜ì§€ë„ ëª»í•œë‹¤. ê²°êµ­ ì½”ë“œ í’ˆì§ì´ ë§ê°€ì§€ê¸° ì‹œì‘í•œë‹¤.

* **`Independent`  ë…ë¦½ì ìœ¼ë¡œ**

  ê° í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ì˜ì¡´í•˜ë©´ ì•ˆ ëœë‹¤. í•œ í…ŒìŠ¤íŠ¸ê°€ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  í™˜ê²½ì„ ì¤€ë¹„í•´ì„œëŠ” ì•ˆëœë‹¤. ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê·¸ë¦¬ê³  ì–´ë–¤ ìˆœì„œë¡œ ì‹¤í–‰í•´ë„ ê´œì°®ì•„ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ì„œë¡œì—ê²Œ ì˜ì¡´í•˜ë©´ í•˜ë‚˜ê°€ ì‹¤íŒ¨í•  ë•Œ ë‚˜ë¨¸ì§€ë„ ì‡ë‹¬ì•„ ì‹¤í–‰í•˜ë¯€ë¡œ ì›ì¸ì„ ì§„ë‹¨í•˜ê¸° ì–´ë ¤ì›Œì§€ë©° í›„ë°˜ í…ŒìŠ¤íŠ¸ê°€ ì°¾ì•„ë‚´ì•¼ í•  ê²°í•¨ì´ ìˆ¨ê²¨ì§„ë‹¤.

* **`Repeatable`  ë°˜ë³µê°€ëŠ¥í•˜ê²Œ**

  í…ŒìŠ¤íŠ¸ëŠ” ì–´ë–¤ í™˜ê²½ì—ì„œë„ ë°˜ë³µ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. ì‹¤ì œ í™˜ê²½, QA í™˜ê²½, ë²„ìŠ¤ë¥¼ íƒ€ê³  ì§‘ìœ¼ë¡œ ê°€ëŠ” ê¸¸ì— ì‚¬ìš©í•˜ëŠ” ë…¸íŠ¸ë¶ í™˜ê²½ (ë„¤íŠ¸ì›Œí¬ê°€ ì—°ê²°ë˜ì§€ ì•Šì€) ì—ì„œë„ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ëŒì•„ê°€ì§€ ì•ŠëŠ” í™˜ê²½ì´ í•˜ë‚˜ë¼ë„ ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ì´ìœ ë¥¼ ë‘˜ëŸ¬ëŒˆ ë³€ëª…ì´ ìƒê¸´ë‹¤. ê²Œë‹¤ê°€ í™˜ê²½ì´ ì§€ì›ë˜ì§€ ì•Šê¸°ì— í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì— ì§ë©´í•œë‹¤.

* **`Self-Validating`  ìê°€ê²€ì¦í•˜ëŠ”**

  í…ŒìŠ¤íŠ¸ê°€ ìŠ¤ìŠ¤ë¡œ ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ ê°€ëŠ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ íŒë‹¨ì€ ì£¼ê´€ì ì´ ë˜ë©° ì§€ë£¨í•œ ìˆ˜ì‘ì—… í‰ê°€ê°€ í•„ìš”í•˜ê²Œ ëœë‹¤. í…ŒìŠ¤íŠ¸ëŠ” boolê°’ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•œë‹¤. ì„±ê³µ ì•„ë‹ˆë©´ ì‹¤íŒ¨ë‹¤. í†µê³¼ ì—¬ë¶€ë¥¼ ì•Œë¦¬ê³  ë¡œê·¸ íŒŒì¼ì„ ì½ê²Œ ë§Œë“¤ì–´ì„œëŠ” ì•ˆ ëœë‹¤. í†µê³¼ ì—¬ë¶€ë¥¼ ë³´ë ¤ê³  í…ìŠ¤íŠ¸ íŒŒì¼ ë‘ ê°œë¥¼ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë¹„êµí•˜ê²Œ ë§Œë“¤ì–´ì„œë„ ì•ˆ ëœë‹¤. 

* **`Timely`  ì ì‹œì—**

  í…ŒìŠ¤íŠ¸ëŠ” ì ì‹œì— ì‘ì„±í•´ì•¼ í•œë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ì§ì „ì— êµ¬í˜„í•˜ë‹¤. ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•œ ë‹¤ìŒì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ë©´ ì‹¤ì œ ì½”ë“œê°€ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë µë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬í• ì§€ë„ ëª¨ë¥¸ë‹¤. í…ŒìŠ¤íŠ¸ê°€ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ ì‹¤ì œ ì½”ë“œë¥¼ ì„¤ê³„í• ì§€ë„ ëª¨ë¥¸ë‹¤.



## ê²°ë¡ 

í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œì˜ ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ë³´ì¡´í•˜ê³  ê°•í™”í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì§€ì†ì ìœ¼ë¡œ ê¹¨ë—í•˜ê²Œ ê´€ë¦¬í•´ì•¼ë§Œ í•œë‹¤. í‘œí˜„ë ¥ì„ ë†’ì´ê³  ê°„ê²°í•˜ê²Œ ì •ë¦¬í•˜ì. í…ŒìŠ¤íŠ¸ APIë¥¼ êµ¬í˜„í•´ ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´(DSL) ë¥¼ ë§Œë“¤ì. ê·¸ëŸ¬ë©´ ê·¸ë§Œí¼ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸± ì‰¬ì›Œì§„ë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë°©ì¹˜ë˜ì–´ ë§ê°€ì§€ë©´ ì‹¤ì œ ì½”ë“œë„ ë§ê°€ì§„ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ì.



## ìƒê° ì •ë¦¬

* í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìœ„í•œ APIë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê±¸ê¹Œ? ì•„ë‹ˆë©´ ì‹¤ì œ ì½”ë“œë¥¼ ìˆ˜ì •í•¨ìœ¼ë¡œì¨ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ê°„ê²°í•´ ì§€ëŠ” ê±¸ê¹Œ?
  * í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” `íŠ¹ìˆ˜` APIë¼ê³  ì €ìê°€ ì„¤ëª…í•˜ëŠ” ê²ƒì„ ë³´ë‹ˆ, ì¶”ê°€ì ìœ¼ë¡œ êµ¬í˜„í•œ ì½”ë“œë¡œ ì˜ˆìƒ
* `assert` ë¬¸ì€ ìµœëŒ€í•œ ì¤„ì¼ ìˆ˜ë¡ ì¢‹ë‹¤.
  * í•¨ìˆ˜ê°€ ì˜ë„ëŒ€ë¡œ ë™ì‘í–ˆëŠ”ì§€ ê²€ì‚¬í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— `assert` ë¬¸ì„ ìµœëŒ€í•œ ë§ì´ ë„£ìœ¼ë ¤ í–ˆë˜ ë‚˜.. ë°˜ì„±í•´..ğŸ¤¦ğŸ»â€â™€ï¸

* ì¼ë‹¨ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•œ í›„ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ëŠê¼ˆë˜ ë¬¸ì œê°€ ìˆì—ˆë‹¤. 

  * ê¸°ì¡´ì˜ ì½”ë“œë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì–´ë ¤ì›€ì´ ìˆëŠ” ê²½ìš°
  * í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš°

  ì´ëŸ° ë¬¸ì œë“¤ì„ ë°”íƒ•ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ì‹¤ì œ ì½”ë“œë¥¼ ë²ˆê°ˆì•„ê°€ë©° ìˆ˜ì •í•˜ë©´ì„œ `ì´ê²Œ ë§ë‚˜?` ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆì—ˆëŠ”ë°, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ì§ì „ì— êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ë§ì„ í†µí•´ ì ì‹œì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ë°°ì› ë‹¤. í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì‹¤ì œ ì½”ë“œë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì—, ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì˜¬ë°”ë¥¸ ì ˆì°¨ë¼ëŠ” ê²ƒì„ ì•Œê²Œëë‹¤.

* í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ ê´œì°®ë‹¤. ê¼­ ì‹¤ì œ í™˜ê²½ì— ë§ì¶”ë ¤ê³  íš¨ìœ¨ì„±ê¹Œì§€ ê³ ë ¤í•  í•„ìš” ì—†ë‹¤. ë‹¨ì§€ ì›í•˜ëŠ” íë¦„ëŒ€ë¡œ ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ ì‘ì„±í•˜ì.